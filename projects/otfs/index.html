<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
    crossorigin="anonymous">
  <link href="./css/main.css" rel="stylesheet">
  <title>Upload - FireBase OTFS</title>
  <link type="image/x-icon" href="./image/favicon.ico" rel="shortcut icon">
</head>

<body ondragstart="return false;" ondrop="return false;">
  <div id="index">
    <div class="container-fluid main">
      <div class="imageBox">
        <img class="topic" src="./image/if_system-file-manager_118825.png">
      </div>
      <div>
        <label for="files" class="btn btn-primary">Select Files</label>
        <br>
        <label>or drag
          <img src="./image/if_one_finger_drag_gestureworks_80654.png" style="height: 3em;"> files to the box upper.
          <input ref="fileInput" id="files" accept="*.*" style="visibility:hidden;display:none;" type="file" multiple @change="handleFiles()">
        </label>
      </div>
      <br>
      <template>
        <div class="alert alert-warning" role="alert" v-for="(item, index) in errMsgs" :key="index">
          {{item}}
        </div>
      </template>
      <table class="table">
        <thead>
          <tr>
            <th scope="col" style="width: 5%">#</th>
            <th scope="col" style="width: 10%">Porcess</th>
            <th scope="col" style="width: 25%">File Name</th>
            <th scope="url" style="width: 60%">Link</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item, index) in uploadedUrl" :key="index">
            <th scope="row">{{index+1}}</th>
            <td>
              {{item.percent+'%'}}
              <div class="progress">
                <div class="progress-bar bg-success" role="progressbar" :style="{width: item.percent+'%'}" aria-valuenow="25" aria-valuemin="0"
                  aria-valuemax="100"></div>
              </div>
            </td>
            <td class="widthRestrict">{{item.name}}</td>
            <td>
              <div class="input-group">
                <input :ref="'urlBox'+index" type="text" onfocus="this.select();" onmouseup="return false;" class="form-control" v-model="item.url">
                <div class="input-group-append">
                  <span class="input-group-text" @click="copyUrl(index)" style="cursor:pointer;">
                    <img src="./image/link.png">
                  </span>
                </div>
                <div class="valid-feedback">
                  Copied to clipboard.
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="layer">
      <img src="./image/if_ic_add_box_48px_352004.png">
      <h1>
        <b>
          <i>Drop file to upload</i>
        </b>
      </h1>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
  crossorigin="anonymous"></script> -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.16/vue.js"></script>   -->
  <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase-database.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

  <script src="./js/index.js"></script>
</body>

</html>